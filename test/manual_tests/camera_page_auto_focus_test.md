# 相機自動對焦功能測試指南

## 測試環境準備
1. 確保設備有可用的相機（實體設備或模擬器）
2. 給予應用程式相機權限

## 更新說明（修復版本）
- 新增 FocusMode 切換機制來強制觸發對焦
- 使用 locked/auto 模式切換確保對焦生效
- 加入更詳細的錯誤處理和日誌

## 測試步驟

### 階段一：自動對焦功能測試 ✅（已修復）

#### 測試項目 1：自動對焦啟動
**步驟：**
1. 打開應用程式
2. 點擊底部導航欄的「+」按鈕進入相機頁面
3. 觀察相機預覽畫面

**預期結果：**
- ✅ 相機應該自動對焦到畫面中心
- ✅ 每 2 秒自動重新對焦一次（透過 FocusMode 切換觸發）
- ✅ Debug console 應該顯示：
  - 「CameraViewModel: 設定對焦模式為自動」
  - 「開始自動對焦」
  - 「自動對焦執行完成 - 對焦模式: FocusMode.auto」

#### 測試項目 2：手動對焦功能
**步驟：**
1. 在相機預覽畫面上點擊任意位置
2. 觀察對焦指示器動畫

**預期結果：**
- ✅ 點擊位置應該顯示對焦框動畫（縮放效果）
- ✅ 相機應該對焦到點擊的位置
- ✅ 對焦框動畫持續 1 秒後消失
- ✅ Debug console 顯示「手動對焦點設定」訊息

#### 測試項目 3：手動對焦後的自動恢復
**步驟：**
1. 點擊畫面進行手動對焦
2. 等待 3 秒
3. 觀察是否恢復自動對焦

**預期結果：**
- ✅ 手動對焦後 3 秒內不會自動對焦
- ✅ 3 秒後恢復每 2 秒的自動對焦循環

#### 測試項目 4：資源清理
**步驟：**
1. 從相機頁面返回到主頁面
2. 再次進入相機頁面

**預期結果：**
- ✅ 相機重新初始化正常
- ✅ 自動對焦功能正常運作
- ✅ 沒有記憶體洩漏或計時器重複問題

## 測試結果記錄

| 測試項目 | 狀態 | 備註 |
|---------|------|------|
| 自動對焦啟動 | ⏳ 待測試 | |
| 手動對焦功能 | ⏳ 待測試 | |
| 手動對焦後的自動恢復 | ⏳ 待測試 | |
| 資源清理 | ⏳ 待測試 | |

## 問題回報
如果發現任何問題，請記錄：
1. 問題描述
2. 重現步驟
3. 實際結果 vs 預期結果
4. 設備資訊（iOS/Android 版本）

## Debug 指令
如需查看詳細日誌，可以使用：
```bash
flutter run --verbose
```

或在 VS Code/Android Studio 中查看 Debug Console。